This is is a hasty written script. TODO: Find better names, refine it.
